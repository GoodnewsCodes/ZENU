<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ZENU Dashboard - Generate your radio script">
  <title>Dashboard - ZENU</title>
  
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="dashboard-sidebar">
      <div class="sidebar-logo">
        <div class="sidebar-logo-icon">üéôÔ∏è</div>
        <span class="sidebar-logo-text">ZENU</span>
      </div>
      
      <nav>
        <ul class="sidebar-nav">
          <li class="sidebar-nav-item">
            <a href="/dashboard" class="sidebar-nav-link active">
              <span class="sidebar-nav-icon">üìä</span>
              Dashboard
            </a>
          </li>
          <li class="sidebar-nav-item">
            <a href="/onboarding" class="sidebar-nav-link">
              <span class="sidebar-nav-icon">‚öôÔ∏è</span>
              Profile
            </a>
          </li>
          <li class="sidebar-nav-item">
            <a href="#" class="sidebar-nav-link" id="logout-btn">
              <span class="sidebar-nav-icon">üö™</span>
              Logout
            </a>
          </li>
        </ul>
      </nav>
    </aside>
    
    <!-- Header -->
    <header class="dashboard-header">
      <h1 class="header-title">Dashboard</h1>
      
      <div class="header-actions">
        <button class="btn btn-ghost btn-sm" id="refresh-btn" title="Refresh">
          üîÑ
        </button>
        
        <div class="header-user">
          <div class="header-user-avatar user-avatar">U</div>
          <span class="header-user-name user-name">User</span>
        </div>
      </div>
    </header>
    
    <!-- Main Content -->
    <main class="dashboard-main">
      <!-- Page Loader -->
      <div id="page-loader" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 9999; display: flex; align-items: center; justify-content: center;">
        <div class="spinner"></div>
      </div>
      
      <!-- Onboarding Prompt -->
      <div id="onboarding-prompt" class="card" style="display: none; background: rgba(255, 170, 0, 0.1); border-color: var(--color-warning); margin-bottom: var(--spacing-lg);">
        <div class="card-body">
          <h3 style="color: var(--color-warning); margin-bottom: var(--spacing-sm);">‚ö†Ô∏è Complete Your Profile</h3>
          <p style="margin-bottom: var(--spacing-md);">Please complete your presenter profile to start generating scripts.</p>
          <a href="/onboarding" class="btn btn-primary btn-sm">Complete Profile</a>
        </div>
      </div>
      
      <!-- Stats Grid -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-card-header">
            <span class="stat-card-label">Total Scripts</span>
            <div class="stat-card-icon">üìÑ</div>
          </div>
          <div class="stat-card-value" id="stat-total-scripts">0</div>
          <div class="stat-card-change">All time</div>
        </div>
        
        <div class="stat-card">
          <div class="stat-card-header">
            <span class="stat-card-label">Time Saved</span>
            <div class="stat-card-icon">‚è±Ô∏è</div>
          </div>
          <div class="stat-card-value" id="stat-time-saved">0 min</div>
          <div class="stat-card-change">vs manual prep</div>
        </div>
        
        <div class="stat-card">
          <div class="stat-card-header">
            <span class="stat-card-label">Ready Scripts</span>
            <div class="stat-card-icon">‚úÖ</div>
          </div>
          <div class="stat-card-value" id="stat-ready-scripts">0</div>
          <div class="stat-card-change">Available now</div>
        </div>
        
        <div class="stat-card">
          <div class="stat-card-header">
            <span class="stat-card-label">Avg Generation</span>
            <div class="stat-card-icon">‚ö°</div>
          </div>
          <div class="stat-card-value" id="stat-avg-time">30s</div>
          <div class="stat-card-change">Lightning fast</div>
        </div>
      </div>
      
      <!-- Workflow Section -->
      <section class="workflow-section">
        <div class="workflow-header">
          <h2>Generate New Script</h2>
        </div>
        
        <div class="card" style="margin-bottom: var(--spacing-lg);">
          <div class="card-header">
            <h3 class="card-title">Select News Sources</h3>
          </div>
          <div class="card-body">
            <div class="news-sources">
              <div class="news-source-chip active" data-source="vanguard">
                üì∞ Vanguard
              </div>
              <div class="news-source-chip active" data-source="punch">
                üì∞ The Punch
              </div>
              <div class="news-source-chip active" data-source="arise">
                üì∫ Arise News
              </div>
              <div class="news-source-chip" data-source="local">
                üìª Local Reports
              </div>
            </div>
            
            <div style="margin-top: var(--spacing-lg);">
              <button class="btn btn-primary btn-lg" id="generate-btn" style="width: 100%;">
                ‚ú® Generate Script
              </button>
              <p style="text-align: center; color: var(--color-text-muted); margin-top: var(--spacing-sm); font-size: 0.875rem;">
                This will take approximately 30 seconds
              </p>
            </div>
          </div>
        </div>
        
        <!-- Profile Info -->
        <div class="workflow-grid">
          <div class="card">
            <div class="card-header">
              <h4 class="card-title">Your Profile</h4>
            </div>
            <div class="card-body">
              <div style="margin-bottom: var(--spacing-sm);">
                <strong style="color: var(--color-text-primary);">Completeness:</strong>
                <span id="profile-completeness" style="color: var(--color-success); font-weight: 700;">100%</span>
              </div>
              <div style="margin-bottom: var(--spacing-sm);">
                <strong style="color: var(--color-text-primary);">Speaking Speed:</strong>
                <span id="speaking-speed" style="color: var(--color-text-secondary);">medium</span>
              </div>
              <div>
                <strong style="color: var(--color-text-primary);">Languages:</strong>
                <span id="preferred-languages" style="color: var(--color-text-secondary);">English</span>
              </div>
              <a href="/onboarding" class="btn btn-outline btn-sm" style="width: 100%; margin-top: var(--spacing-md);">
                Edit Profile
              </a>
            </div>
          </div>
          
          <div class="card">
            <div class="card-header">
              <h4 class="card-title">Quick Actions</h4>
            </div>
            <div class="card-body">
              <button class="btn btn-secondary" style="width: 100%; margin-bottom: var(--spacing-sm);" onclick="window.location.href='/editor'">
                üìù View Last Script
              </button>
              <button class="btn btn-secondary" style="width: 100%; margin-bottom: var(--spacing-sm);" onclick="window.location.href='/teleprompter'">
                üé¨ Open Teleprompter
              </button>
              <button class="btn btn-secondary" style="width: 100%;" onclick="window.location.href='/onboarding'">
                ‚öôÔ∏è Update Settings
              </button>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Recent Scripts -->
      <section class="workflow-section">
        <div class="workflow-header">
          <h2>Recent Scripts</h2>
        </div>
        
        <div class="recent-scripts">
          <ul class="script-list" id="recent-scripts-list">
            <li style="text-align: center; padding: var(--spacing-xl); color: var(--color-text-muted);">
              Loading scripts...
            </li>
          </ul>
        </div>
      </section>
    </main>
  </div>
  
  <!-- Progress Modal -->
  <div id="progress-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.95); z-index: 10000; align-items: center; justify-content: center;">
    <div style="background: var(--color-bg-secondary); border: 1px solid rgba(255,255,255,0.1); border-radius: var(--radius-xl); padding: var(--spacing-2xl); max-width: 500px; width: 100%; text-align: center;">
      <div style="width: 80px; height: 80px; margin: 0 auto var(--spacing-lg); background: var(--gradient-primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 3rem; animation: pulse 2s ease-in-out infinite;">
        ‚ú®
      </div>
      <h2 style="margin-bottom: var(--spacing-md);">Generating Your Script</h2>
      <p id="progress-text" style="color: var(--color-text-secondary); margin-bottom: var(--spacing-lg);">
        Initializing workflow...
      </p>
      <div style="width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: var(--radius-full); overflow: hidden;">
        <div id="progress-bar" style="width: 0%; height: 100%; background: var(--gradient-primary); transition: width 0.5s ease;"></div>
      </div>
    </div>
  </div>
  
  <script src="/js/auth.js"></script>
  <script src="/js/app.js"></script>
</body>
</html>
